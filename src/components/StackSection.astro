---
import Container from '@components/Container.astro';
import StackList from './StackList.astro';
import StackCard, { type TechType } from './StackCard.astro';

import ShapeH2 from '@svgs/shape-h2.svg';
import IconPHP from '@svgs/php.svg';
import IconWP from '@svgs/wp.svg';
import IconJS from '@svgs/js.svg';
import IconReact from '@svgs/react.svg';

const techs: TechType[] = [
	{
		name: 'WordPress',
		icon: IconWP,
		color: 'primary',
	},
	{
		name: 'PHP',
		icon: IconPHP,
		color: 'secondary',
	},
	{
		name: 'React',
		icon: IconReact,
		color: 'secondary',
	},
	{
		name: 'JavaScript',
		icon: IconJS,
		color: 'primary',
	},
];
---

<Container>
	<div class="flex max-lg:flex-col gap-24 lg:items-center">
		<div class="flex-1">
			<header class="mb-32">
				<h2
					class="text-14 text-primary-600 uppercase tracking-[0.15em] font-medium flex items-center gap-6"
				>
					<ShapeH2 fill="currentColor" width="14" height="14" />
					Technique
				</h2>
				<h3
					class="mb-24 text-64 leading-[1.3em] tracking-tighter text-base-50 font-extralight -tracking-tighter]"
				>
					Une stack complète et adaptée
				</h3>
			</header>
			<p class="text-base text-base-0 lead">
				Des technologies modernes et éprouvées, combinant performance et facilité
				d'utilisation. WordPress, PHP et JavaScript offre puissance et flexibilité pour des
				sites web sur mesure, adaptés à vos besoins spécifiques.
			</p>
		</div>
		<div
			class="flex-1 flex gap-24 h-[56vw] mx-h-[772px] overflow-hidden relative stack-container max-lg:py-[18px] lg:pt-[18px]"
		>
			<div class="flex lg:flex-col gap-24 lg:mt-64 flex-1 lg:-translate-y-[104%]">
				{
					Array.from({ length: 3 }).map((_, i) => (
						<ul
							class="flex lg:flex-col gap-24 max-lg:animate-marquee max-lg:items-center max-lg:text-nowrap"
							aria-hidden={i > 0}
						>
							{techs.map((tech) => (
								<li class="flex-1">
									<StackCard tech={tech} />
								</li>
							))}
						</ul>
					))
				}
			</div>
			<div class="flex lg:flex-col gap-24 flex-1 max-lg:hidden">
				{
					Array.from({ length: 2 }).map((_, i) => (
						<StackList techList={techs.reverse()} ariaHidden={true} />
					))
				}
			</div>
		</div>
	</div>
</Container>
